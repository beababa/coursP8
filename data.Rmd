---
title: "Utilisation mapvotr pour Bondy"
author: "BMaranget"
date: "2/08/2023"
output: 
  html_document: 
    number_sections: yes
    toc: yes
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


# Objectif

Utiliser le package pour Bondy

```{r}
library(mapvotr)
library(sqldf)
library(sf)
data <- read.csv("data/table-adresses-reu.csv", nrows = -10)
str(data)
data <- read.csv.sql("data/table-adresses-reu.csv", sql = "select * from file where code_commune_ref = '93140' ")
```


```{r}
st_layers(data/vote.gpkg)
sf::st_layers(data/vote.gpkg)
getwd()
bv <- st_read
```



# autres données : résultat élections


```{r}
res <- read.csv("data/res.csv", dec =".")
# jointure
autocad
data <- merge(autocad, res, by.x= "numBureau", by.y="Code.du.b.vote")
st_write(data, "data/vote.gpkg", "resultat")
```


pb sur logement.gpkg

```{r}
st_layers("data/logement.gpkg")
RPLS <- st_read("data/logement.gpkg", "RPLS")
quartiers <- st_read("data/logement.gpkg", "quartiersBailleurs")
st_write(RPLS, "data/logement.gpkg", "RPLS")
st_write(quartiers, "data/logement.gpkg", "quartier")
```

